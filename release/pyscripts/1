# encoding: utf-8

from xmlrpc.server import SimpleXMLRPCServer
from wsp.master.master import Master
import yaml
import sys


if __name__ == "__main__":

    global master_yaml
    master_yaml = sys.argv
    print(master_yaml)
    def get_master_yaml():
        global master_yaml
        try:
            with open(master_yaml, "r", encoding="utf-8") as f:
                dict = yaml.load(f)
                print(dict)
        except Exception:
            print("Loafing master.yaml is failed")

    '''
    sxr = SimpleXMLRPCServer(("127.0.0.1", 8090))
    sxr.register_instance(Master())
    sxr.register_function(get_master_yaml)
    sxr.serve_forever()
    '''
    get_master_yaml()

